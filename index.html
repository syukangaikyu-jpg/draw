<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>é€±åˆŠé§çƒ WEEK50 æŠ½é¸</title>
</head>
<body style="font-family:sans-serif; text-align:center; padding:50px;">
  <h1>WEEK50 è¨˜å¿µ æŠ½é¸</h1>
  <p>ã€ŒæŠ½é¸ã™ã‚‹ã€ã‚’æŠ¼ã™ã¨å½“è½ãŒå‡ºã¾ã™ã€‚<br>å½“ãŸã‚Šã¯5åé™å®šï¼</p>
  <button onclick="draw()">æŠ½é¸ã™ã‚‹</button>
  <div id="result" style="margin-top:20px; font-size:18px;"></div>

<script>
  // ã“ã“ã«ã‚ã¨ã§Google Apps Scriptã®URLã‚’å…¥ã‚Œã¾ã™
  const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbzATnE64sDfTqsZruBA1RoDFh3fRzogZaozg5juIlrfApDOH_55_zn3kJX6YyAx63M8Sw/exec";

  async function draw() {
    try {
      let res = await fetch(WEB_APP_URL);
      let data = await res.json();

      if (data.result === "win") {
        document.getElementById("result").innerHTML = "ğŸ‰ å½“é¸ï¼ãƒ•ã‚©ãƒ¼ãƒ ã¯ã“ã¡ã‚‰ğŸ‘‰ <a href='https://docs.google.com/forms/d/ãƒ•ã‚©ãƒ¼ãƒ ã®URL/viewform' target='_blank'>å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ </a>";
      } else if (data.result === "closed") {
        document.getElementById("result").textContent = "å½“é¸æ ã¯çµ‚äº†ã—ã¾ã—ãŸğŸ™";
      } else {
        document.getElementById("result").textContent = "ğŸ˜¢ ãƒã‚ºãƒ¬ï¼ã¾ãŸæŒ‘æˆ¦ã—ã¦ã­ï¼";
      }
    } catch(e) {
      document.getElementById("result").textContent = "ã‚¨ãƒ©ãƒ¼ï¼šè¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚";
    }
  }
</script>
</body>
</html>
